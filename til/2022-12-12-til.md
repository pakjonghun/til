---
date: 2022-12-12
category: til, refactory
---

## refactory 책 챕터 6을 읽다.

- 어느새 refactory chapter 6까지 읽었다.
- 예제도 따라하면서 github 에서 올리고 있다.
- 여러 기법들을 따라했지만 핵심은 역시 **이름짓기** 인것 같다.
- 왜냐하면 이름짓기가 반복해서 계속 나오기 때문이다.
- 이름을 잘 지으면 함수나누기의 효과가 발휘된다.
- 이름을 잘 지으면 가독성이 좋아지고, 자연스럽게 유지보수하기도 좋아진다.
- 이름을 잘 지으려고 너무 과도하게 시간을 많이 들이지 마라 왜냐하면 리팩토링 하면서 자연히 좋은 이름으로 계속 수정되기 때문이다.
- 이름은 신문기사의 타이틀 같아서 세부내용을 보지 않아도 이름만 보고서 무엇을 하는지 알 수 있다.
- 그러므로 이름은 하는일(함수), 목적이나 내용(변수) 이 잘 드러나도록 너무 길지 는 않게, 하지만 너무 축약하지 않도록 지어야 하며
- 이름짓기에 정답은 없지만 흔히 자주 쓰이는 이름이 있으므로 이 패턴 규칙에 맞춰서 짓는 것이 바람직 하다.

## 주요 내용

- 낮은수준의 리팩토링
  - 코드수준에서 함수 나누기, 함수 인라인, 변수 나누기, 변수인라인, 캡슐화 하기, 단계분리하기 등등 은 낮은 수준의 리팩토링이라고 한다.
  - 하지만 가장 많이 하게 될 리팩토링이며 기본이면서 중요하므로 잘 알아둬야 한다.
  - 주로 리팩토링하는 순서는 다음과 같다.
    - 이 함수? 변수? 가 하는 일을 파악한다.(가장중요)
    - 단계별로 함수, 변수를 추출(나누기)을 한다.
    - 목적에 맞는 이름을 짓는다.
  - 클래스가 일반 함수보다는 더 좋다고 해서 클래스로 처음부터 클래스로 리팩토링을 해 보았는데
    - 쉽고 어렵고를 떠나서 오버해서 리팩토링을 한 느낌이 들었다.
    - 굳이 함수로 나눠서 재사용 할 정도로만 해 두면 될 일을
    - 변수와 함수를 묶어서 함께 사용하려는 욕심때문에 별로 사용하지도 않을 클래스를 자꾸 만드는것이 아닌가? 하는 생각도 들었다.
    - 그래서 에그니 에그니 하는 것 같다.
    - 당장 필요한 부분까지 수준까지 리팩토링을 하고, 추후 필요할때 계속 단계별로 진행을 하면 될 것 같았다.

## 어려운점

- 두려움?
  - 리팩토링을 나름대로 한 다음에
  - 책이나 강의의 정답과 비교를 해보니 계속 틀렸다.
  - 왜 그리고 책에 해설을 읽으며 처음부터 차근차근 다시 리팩토링을 했다.
  - 그래서 두려운 느낌이 들었다.
    - 리팩토링을 하다가 계속 엉뚱하게 리팩토링을 하면 어떻하나 하는 걱정
    - 코드베이스를 망가뜨리는 이상한 리팩토링을 하면 어떻하나?
    - 어설프게 리팩토링을 해서 오히려 가독성을 더 떨어뜨리면 어떻하나?
  - 하지만 책에서 두려워 하지 말고 계속 도전하라는 문구를 읽게 되었다.
  - 리팩토링에 정답은 없으며, 오로지 경험과 직관을 통해서 스스로 깨달아 가는 과정을 거쳐야 한다는 말을 해주었다.
- 영어
  - 결국 리팩토링을 글의 문단을 나누고, 제목을 적는 것과 같다는 생각을 했다.
  - 문제는 그 글이 영어라는 점이다
  - 영어를 잘 해야 한다 는 생각이 들었고,
  - 출퇴근하며, 아침에 30분 정도씩 꾸준히 영어 책을 읽어야 겠다는 생각을 했다.(물론 지금 하고 있긴 하지만 더 열심히 집중해서...)

## 앞으로 계획

- 기본적인 리팩토링 기법은 한번씩 해봤는데
- 모르겠다. 꾸준히 연습 해야 할 것 같다.
- 그래서 기존에 코드를 조금씩 고치는 연습을 해야겠다.(내가 쓴 코드 위주로)
- 그래고 자가 테스트코드를 작성해서 적용을 해야 할 듯 한데,
- 일단 책을 계속 읽어가면서 진도를 나가면서
- 테스트코드 부분도 적용해서
- 리팩토링->테코돌리기->푸시 하는 단계를 거쳐서 리팩토링을 안전하게 진행을 하는 연습을 꾸준히 해야겠다.
