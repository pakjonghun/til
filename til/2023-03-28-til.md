---
date: 2023-03-28
category: til
---

## 오늘 한 일

- sanity query 학습
- react-query infinity 코드 작성 및 적용

## 생각 정리

- infiniQuery 는 이전에도 여러번 사용 해 봤지만 제대로 이해를 못하고 따라서 코드를 친다는 생각에 코드를 뜯어 보며 이해햐려 노력했다.
- 코드를 보니 내부적으로 다음페이지가 있는지 확인하고 +1 페이지 한 파라미터를 다음 파라미터에 넣는 과정을 거치고 있었다. 의외로 쉽게 이해 할 수 있었다.
- sanity 쿼리를 뜯어보고 플레이 ui 에서 여러 쿼리를 연습했다.
- 확실히 sql 보다는 짧고 직관적이었다.
- 하지만 여전히 이해를 잘 못하는 부분이 꽤 있는 것 같았다.
- references 함수의 인자로 들어가는 부분, this, parent 를 가르키는 지시문구 등 이해가 잘 되지 않았고 작동이 안되는 경우도 있었다.
- 하지만 나름대로 재미있었고, 속도도 그렇게 많이 느리지 않아서 한번 배워서 사용 해 볼까 하는 생각이 들었다.
- 오늘부로 aws 2개 계정의 프리티어가 끝나서 모두 ec2 반납하고 라우팅도 연결을 끊었다.
- 요금계산기로 ec2 계산 해보니 한달에 2만원 가까이 가격이 나와서
- aws 요금 절약하는 팁을 검색해 봤다.
  - 1. 사용하지 않는 시간에는 스케줄러를 이용해서 꺼라(항상 키고 싶은데??)
  - 2. optimizer 서비스를 이용해서 권장 ec2를 사용해라(음..)
  - 3. aws 에서 개발한 시리즈를 사용하면 비교적 저렴하게 가성비 있는 클라우드 이용이 가능하다(g 시리즈 등) 음..
  - 4. ec2 는 세대 를 가르키는 숫자가 있는데 이 숫자가 높을수록 가성비가 좋다 ex)c5 보다는 c6 c 는 컴퓨터 임, m5 보다는 m6 m 은 메모리임
- 모두 그렇게 와닿지가 않았다. 그냥 headless cms 를 한번 사용 해보는 것이 좋을 것 같다는 생각을 하면서
- 쿼리 연습에 몰두 할 수 있었다.
