---
date: 2023-07-11
category: til
---

## 짧은 til

- 순회, 방문, 여러가지 알고리즘 아이디어 가 중요하다는 생각이 계속 든다.
- 왜냐하면 이 방식을 떠올리는데 의외로 시간이 많이 들었기 때문이다. 경험을 많이 해보고 기록으로 계속 남기면서 회고 해야겠다는 생각에 오랜만에 til 을 적는다.
- flat하게 펼쳐져 있는 데이터들을 트리구조의 다른 데이터로 조립해야 하는 경우가 생겼다.
- 그냥 만들면 될줄 알았는데 문제는
- 가짜 데이터를 만들면서 tree 구조를 유지해야 한다는 것이었다. 무슨말이냐면..
- 트리구조를 만들기위해서 각 leaf 가 바라보는 node 의 id 를 다른 값으로 바꿔가면서 트리구조를 유지해야 한다는 것이었다.?? 그러면 트리구조 어떻게 유지함??;;
- 방법은 많겠지만 나는 일단 ant 의 treeview 그리는 방식을 참고하면서 Map 자료구조를 활용했다.
- [1,2,3,4] -> 왼쪽부터 순서대로 트리의 키값이 0 1 2 3 4 즉 인덱스다
- 0 인덱스인 1 의 childern 이 [5,6,7,8] 이라고 한다면 children 의 키는 0-0 0-2 0-3 0-4 즉 부모 키 - 현재 인덱스 가 된다.
- 이런 treeview 구조를 유지하기 위한 키를 id 뒤쪽에 미리 붙여두었다가. 아이디 패턴을 바꾸는데 조금 마음에 걸리지만 일단... ㅋ
- 이 키를 트리구조를 유지하는 용도로 써먹었다.
- 0- 의 노드는 0-인덱스 라는 leaf 를 모으면된다. <-- 이 함수를 계속 재귀적으로(재귀는 아닌듯 그냥 순회) 순회하면서 처리했다.
- 빈 map구조를 만들고 key 로 부모의 treeKey 를 넣는다.
- 그리고 그 부모의 자식들이면 부모에 append 하고, 혹 map 에 부모가 저장되있지 않으면 새로운 노드를 만들어서 넣는다.
- 결국 위 방식을 계속 순회하면서 해결한다.
- 간단하지만 떠올리는데 시간이 오래 걸렸다.
- tree 를 만드는 클래스를 만들어서 기능을 모듈화 시켰지만 코드는 상당히 복잡하다 리팩토링이 필요한 상황이다.
- 요새 트리 구조를 계속 만지게 된다...
- 뭔가... composition 패턴용 클래스를 만들어서 재활용 해야 할 것 같다는 생각이 들기도 하고...
- 트리구조를 만질때마다 시간이 자꾸 낭비되는 것 같아서 마음에 걸린다.
